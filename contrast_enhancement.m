img=imread('rgb.tif');
img_lab=rgb2lab(img);
img_l=img_lab(:,:,1);
img_l2=img_l/100;
img_l3=adapthisteq(img_l2);
img_l3=img_l3*100;
img_lab(:,:,1)=img_l3;
img_lab1=lab2rgb(img_lab);
subplot(242);imshow(img_lab1);title('adapthisteq');
subplot(246);imshow(img_lab1);title('lab');
img_l4=imadjust(img_l2);
img_l4=img_l4*100;
img_lab(:,:,1)=img_l4;
img_lab2=lab2rgb(img_lab);
subplot(243);imshow(img_lab2);title('imadjust');
img_l5=histeq(img_l2);
img_l5=img_l5*100;
img_lab(:,:,1)=img_l5;
img_lab3=lab2rgb(img_lab);
subplot(244);imshow(img_lab3);title('histeq');
subplot(241);imshow(img);
title('original');
img_ycbcr=rgb2ycbcr(img);
img_y=img_ycbcr(:,:,1);
img_y=adapthisteq(img_y);
img_ycbcr(:,:,1)=img_y;
img_ycbcr2=ycbcr2rgb(img_ycbcr);
subplot(247);imshow(img_ycbcr2);
title('ycbcr');
img_hsv=rgb2hsv(img);
img_v=img_hsv(:,:,3);
img_v=adapthisteq(img_v);
img_hsv(:,:,3)=img_v;
img_hsv2=hsv2rgb(img_hsv);
subplot(248);imshow(img_hsv2);
title('hsv');
